{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/wwwja/Desktop/Gallery-master/app/Gallery/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"C:/Users/wwwja/Desktop/Gallery-master/app/Gallery/node_modules/@babel/runtime/regenerator\";\nimport { b as config } from './config-3c7f3790.js';\nvar lastId = 0;\n\nvar createController = function createController(tagName) {\n  return {\n    create: function create(options) {\n      return createOverlay(tagName, options);\n    },\n    dismiss: function dismiss(data, role, id) {\n      return dismissOverlay(document, data, role, tagName, id);\n    },\n    getTop: function getTop() {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", getOverlay(document, tagName));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  };\n};\n\nvar alertController = /*@__PURE__*/createController('ion-alert');\nvar actionSheetController = /*@__PURE__*/createController('ion-action-sheet');\nvar loadingController = /*@__PURE__*/createController('ion-loading');\nvar modalController = /*@__PURE__*/createController('ion-modal');\nvar pickerController = /*@__PURE__*/createController('ion-picker');\nvar popoverController = /*@__PURE__*/createController('ion-popover');\nvar toastController = /*@__PURE__*/createController('ion-toast');\n\nvar prepareOverlay = function prepareOverlay(el) {\n  var doc = document;\n  connectListeners(doc);\n  var overlayIndex = lastId++;\n  el.overlayIndex = overlayIndex;\n\n  if (!el.hasAttribute('id')) {\n    el.id = \"ion-overlay-\".concat(overlayIndex);\n  }\n};\n\nvar createOverlay = function createOverlay(tagName, opts) {\n  return customElements.whenDefined(tagName).then(function () {\n    var doc = document;\n    var element = doc.createElement(tagName);\n    element.classList.add('overlay-hidden'); // convert the passed in overlay options into props\n    // that get passed down into the new overlay\n\n    Object.assign(element, opts); // append the overlay element to the document body\n\n    getAppRoot(doc).appendChild(element);\n    return element.componentOnReady();\n  });\n};\n\nvar connectListeners = function connectListeners(doc) {\n  if (lastId === 0) {\n    lastId = 1; // trap focus inside overlays\n\n    doc.addEventListener('focusin', function (ev) {\n      var lastOverlay = getOverlay(doc);\n\n      if (lastOverlay && lastOverlay.backdropDismiss && !isDescendant(lastOverlay, ev.target)) {\n        var firstInput = lastOverlay.querySelector('input,button');\n\n        if (firstInput) {\n          firstInput.focus();\n        }\n      }\n    }); // handle back-button click\n\n    doc.addEventListener('ionBackButton', function (ev) {\n      var lastOverlay = getOverlay(doc);\n\n      if (lastOverlay && lastOverlay.backdropDismiss) {\n        ev.detail.register(100, function () {\n          return lastOverlay.dismiss(undefined, BACKDROP);\n        });\n      }\n    }); // handle ESC to close overlay\n\n    doc.addEventListener('keyup', function (ev) {\n      if (ev.key === 'Escape') {\n        var lastOverlay = getOverlay(doc);\n\n        if (lastOverlay && lastOverlay.backdropDismiss) {\n          lastOverlay.dismiss(undefined, BACKDROP);\n        }\n      }\n    });\n  }\n};\n\nvar dismissOverlay = function dismissOverlay(doc, data, role, overlayTag, id) {\n  var overlay = getOverlay(doc, overlayTag, id);\n\n  if (!overlay) {\n    return Promise.reject('overlay does not exist');\n  }\n\n  return overlay.dismiss(data, role);\n};\n\nvar getOverlays = function getOverlays(doc, selector) {\n  if (selector === undefined) {\n    selector = 'ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast';\n  }\n\n  return Array.from(doc.querySelectorAll(selector)).filter(function (c) {\n    return c.overlayIndex > 0;\n  });\n};\n\nvar getOverlay = function getOverlay(doc, overlayTag, id) {\n  var overlays = getOverlays(doc, overlayTag);\n  return id === undefined ? overlays[overlays.length - 1] : overlays.find(function (o) {\n    return o.id === id;\n  });\n};\n\nvar present = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(overlay, name, iosEnterAnimation, mdEnterAnimation, opts) {\n    var animationBuilder, completed;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!overlay.presented) {\n              _context2.next = 2;\n              break;\n            }\n\n            return _context2.abrupt(\"return\");\n\n          case 2:\n            overlay.presented = true;\n            overlay.willPresent.emit(); // get the user's animation fn if one was provided\n\n            animationBuilder = overlay.enterAnimation ? overlay.enterAnimation : config.get(name, overlay.mode === 'ios' ? iosEnterAnimation : mdEnterAnimation);\n            _context2.next = 7;\n            return overlayAnimation(overlay, animationBuilder, overlay.el, opts);\n\n          case 7:\n            completed = _context2.sent;\n\n            if (completed) {\n              overlay.didPresent.emit();\n            }\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function present(_x, _x2, _x3, _x4, _x5) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar dismiss = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(overlay, data, role, name, iosLeaveAnimation, mdLeaveAnimation, opts) {\n    var animationBuilder;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (overlay.presented) {\n              _context3.next = 2;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", false);\n\n          case 2:\n            overlay.presented = false;\n            _context3.prev = 3;\n            overlay.willDismiss.emit({\n              data: data,\n              role: role\n            });\n            animationBuilder = overlay.leaveAnimation ? overlay.leaveAnimation : config.get(name, overlay.mode === 'ios' ? iosLeaveAnimation : mdLeaveAnimation);\n            _context3.next = 8;\n            return overlayAnimation(overlay, animationBuilder, overlay.el, opts);\n\n          case 8:\n            overlay.didDismiss.emit({\n              data: data,\n              role: role\n            });\n            _context3.next = 14;\n            break;\n\n          case 11:\n            _context3.prev = 11;\n            _context3.t0 = _context3[\"catch\"](3);\n            console.error(_context3.t0);\n\n          case 14:\n            overlay.el.remove();\n            return _context3.abrupt(\"return\", true);\n\n          case 16:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[3, 11]]);\n  }));\n\n  return function dismiss(_x6, _x7, _x8, _x9, _x10, _x11, _x12) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar getAppRoot = function getAppRoot(doc) {\n  return doc.querySelector('ion-app') || doc.body;\n};\n\nvar overlayAnimation = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(overlay, animationBuilder, baseEl, opts) {\n    var aniRoot, animation, isAnimationBuilder, mod, animationResult, hasCompleted;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (!overlay.animation) {\n              _context4.next = 4;\n              break;\n            }\n\n            overlay.animation.destroy();\n            overlay.animation = undefined;\n            return _context4.abrupt(\"return\", false);\n\n          case 4:\n            // Make overlay visible in case it's hidden\n            baseEl.classList.remove('overlay-hidden');\n            aniRoot = baseEl.shadowRoot || overlay.el;\n            /**\r\n             * TODO: Remove AnimationBuilder\r\n             */\n\n            isAnimationBuilder = true;\n            _context4.prev = 7;\n            _context4.next = 10;\n            return import('./index-69c37885.js');\n\n          case 10:\n            mod = _context4.sent;\n            _context4.next = 13;\n            return mod.create(animationBuilder, aniRoot, opts);\n\n          case 13:\n            animation = _context4.sent;\n            _context4.next = 21;\n            break;\n\n          case 16:\n            _context4.prev = 16;\n            _context4.t0 = _context4[\"catch\"](7);\n            animation = animationBuilder(aniRoot, opts);\n            animation.fill('both');\n            isAnimationBuilder = false;\n\n          case 21:\n            overlay.animation = animation;\n\n            if (!overlay.animated || !config.getBoolean('animated', true)) {\n              animation.duration(0);\n            }\n\n            if (overlay.keyboardClose) {\n              animation.beforeAddWrite(function () {\n                var activeElement = baseEl.ownerDocument.activeElement;\n\n                if (activeElement && activeElement.matches('input, ion-input, ion-textarea')) {\n                  activeElement.blur();\n                }\n              });\n            }\n\n            _context4.next = 26;\n            return animation.playAsync();\n\n          case 26:\n            animationResult = _context4.sent;\n\n            /**\r\n             * TODO: Remove AnimationBuilder\r\n             */\n            hasCompleted = typeof animationResult === 'undefined' ? true : animation.hasCompleted;\n\n            if (isAnimationBuilder) {\n              animation.destroy();\n            }\n\n            overlay.animation = undefined;\n            return _context4.abrupt(\"return\", hasCompleted);\n\n          case 31:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[7, 16]]);\n  }));\n\n  return function overlayAnimation(_x13, _x14, _x15, _x16) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar eventMethod = function eventMethod(element, eventName) {\n  var resolve;\n  var promise = new Promise(function (r) {\n    return resolve = r;\n  });\n  onceEvent(element, eventName, function (event) {\n    resolve(event.detail);\n  });\n  return promise;\n};\n\nvar onceEvent = function onceEvent(element, eventName, callback) {\n  var handler = function handler(ev) {\n    element.removeEventListener(eventName, handler);\n    callback(ev);\n  };\n\n  element.addEventListener(eventName, handler);\n};\n\nvar isCancel = function isCancel(role) {\n  return role === 'cancel' || role === BACKDROP;\n};\n\nvar isDescendant = function isDescendant(parent, child) {\n  while (child) {\n    if (child === parent) {\n      return true;\n    }\n\n    child = child.parentElement;\n  }\n\n  return false;\n};\n\nvar defaultGate = function defaultGate(h) {\n  return h();\n};\n\nvar safeCall = function safeCall(handler, arg) {\n  if (typeof handler === 'function') {\n    var jmp = config.get('_zoneGate', defaultGate);\n    return jmp(function () {\n      try {\n        return handler(arg);\n      } catch (e) {\n        console.error(e);\n      }\n    });\n  }\n\n  return undefined;\n};\n\nvar BACKDROP = 'backdrop';\nexport { BACKDROP as B, alertController as a, actionSheetController as b, popoverController as c, prepareOverlay as d, present as e, dismiss as f, eventMethod as g, createOverlay as h, isCancel as i, dismissOverlay as j, getOverlay as k, loadingController as l, modalController as m, pickerController as p, safeCall as s, toastController as t };","map":null,"metadata":{},"sourceType":"module"}